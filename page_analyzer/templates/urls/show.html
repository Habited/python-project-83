{% extends "index.html" %}

{% block show %}
<h1>Сайт: {{ url.name }}</h1>

<table class="table table-bordered mt-3 " data-test="urls">
  <tr><td>ID</td><td>{{ url.id }}</td></tr>
  <tr><td>URL</td><td>{{ url.name }}</td></tr>
  <tr><td>Дата создания</td><td>{{ url.created_at.strftime('%d.%m.%Y') }}</td></tr>
</table>

<form method="POST" action="{{ url_for('new_verification_url', url_id=url.id) }}" class="mt-3">
  <button type="submit" class="btn btn-primary">Запустить проверку</button>
</form>

<h2 class="mt-4">Проверки</h2>
<table class="table" data-test="checks">
  <thead>
    <tr>
      <th>ID</th>
      <th>Код</th>
      <th>h1</th>
      <th>title</th>
      <th>description</th>
      <th>Дата</th>
    </tr>
  </thead>
  <tbody>
    {% for check in url_checks %}
    <tr>
      <td>{{ check.id }}</td>
      <td>{{ check.status_code }}</td>
      <td>{{ check.h1 or '' }}</td>
      <td>{{ check.title or '' }}</td>
      <td>{{ check.description or '' }}</td>
      <td>{{ check.created_at.strftime('%d.%m.%Y') }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}